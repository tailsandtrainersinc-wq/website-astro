---
import { getCollection } from "astro:content";
import HeroClient from "./HeroClient.tsx";
import { Icon } from "astro-icon/components";

const siteEntries = await getCollection("site");
const site = siteEntries[0]?.data ?? {
  heroTitle: "Tails and Trainers",
  heroSubtitle: "Supporting LGBTQ communities through education and connection.",
  heroTagline: "A 501(c)(3) non-profit",
};

// Split title into words for cascade animation
const titleWords = site.heroTitle.split(' ');
---

<section
  class="relative min-h-svh flex flex-col justify-end px-6 md:px-12 lg:px-20 pb-12 md:pb-20 pt-28 overflow-hidden"
  aria-labelledby="hero-heading"
>
  <HeroClient
    client:load
    titleWords={titleWords}
    subtitle={site.heroSubtitle}
    tagline={site.heroTagline ?? ''}
  />

  <!-- Scroll indicator -->
  <div class="absolute bottom-6 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2">
    <span class="text-xs tracking-widest uppercase" style="color: var(--text-tertiary);">Scroll</span>
    <Icon name="tabler:chevron-down" class="w-5 h-5 scroll-hint" style="color: var(--text-tertiary);" aria-hidden="true" />
  </div>
</section>
