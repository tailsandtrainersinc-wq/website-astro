---
import { getCollection } from "astro:content";
import ScrollReveal from "./ScrollReveal.tsx";
import { Icon } from "astro-icon/components";

const siteEntries = await getCollection("site");
const site = siteEntries[0]?.data ?? {
  ctaTitle: "Join Our Mission",
  ctaBody: "Every contribution—time, resources, or voice—helps us create a more inclusive world through education and connection.",
};
---

<section
  id="about"
  class="relative w-full overflow-hidden"
  style="padding-top: var(--space-section); padding-bottom: var(--space-section);"
>
  {/* Warm aurora zone background */}
  <div
    class="absolute inset-0 pointer-events-none"
    style="background: radial-gradient(ellipse at 30% 50%, oklch(0.20 0.08 20 / 0.4), transparent 70%), radial-gradient(ellipse at 80% 60%, oklch(0.18 0.06 320 / 0.3), transparent 70%);"
    aria-hidden="true"
  ></div>

  <div class="relative z-10 max-w-6xl mx-auto px-6 md:px-12">
    <ScrollReveal client:idle mode="emerge">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-8 md:gap-16">
        {/* Left: Title + Body */}
        <div class="flex-1 max-w-xl">
          <h2
            class="mb-4 leading-tight"
            style="font-family: var(--font-serif); font-size: var(--text-display); color: var(--text-primary);"
          >
            {site.ctaTitle}
          </h2>
          <p class="leading-relaxed" style="color: var(--text-secondary); font-size: var(--text-subhead);">
            {site.ctaBody}
          </p>
        </div>

        {/* Right: Buttons */}
        <div class="flex flex-col gap-4 shrink-0">
          <a
            href="/contact"
            class="btn-primary heartbeat-glow"
          >
            <Icon name="tabler:heart" class="w-5 h-5" aria-hidden="true" />
            Get Involved
          </a>
          <a
            href="/contact"
            class="btn-secondary"
          >
            <Icon name="tabler:mail" class="w-5 h-5" aria-hidden="true" />
            Contact Us
          </a>
        </div>
      </div>
    </ScrollReveal>
  </div>

  {/* Decorative gradient line */}
  <div
    class="absolute bottom-0 left-0 right-0 h-px"
    style="background: linear-gradient(90deg, transparent, oklch(0.72 0.18 25 / 0.2), transparent);"
    aria-hidden="true"
  ></div>
</section>
